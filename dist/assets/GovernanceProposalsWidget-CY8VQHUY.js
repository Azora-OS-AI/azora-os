import{r as c,j as o,G as N,S as f}from"./index-CBoIYoiu.js";const x=[{id:"gov_prop_1",title:"Increase Staking Rewards",description:"Proposal to increase staking rewards by 5% to incentivize participation.",status:"open",totalStaked:15e4},{id:"gov_prop_2",title:"Fund Community Marketing",description:"Allocate 1M REP to a community-run marketing fund.",status:"closed",totalStaked:25e5}];function b(d){const[r,s]=c.useState(x),[u,i]=c.useState("idle"),[t,m]=c.useState(null);return{proposals:r,status:u,error:t,vote:(l,e)=>{console.log(`User ${d} voting ${e} on proposal ${l}`),i("loading"),setTimeout(()=>{s(a=>a.map(n=>n.id===l?{...n,totalStaked:n.totalStaked+e}:n)),i("idle")},1e3)}}}const g=({userId:d})=>{const{proposals:r,status:s,error:u,vote:i}=b(d),[t,m]=c.useState({}),p=e=>{const a=Number(t[e]);a>0&&(i(e,a),m(n=>({...n,[e]:""})))},l=()=>s==="loading"&&r.length===0?o.jsxDEV(f,{className:"h-48 w-full"},void 0,!1,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:19,columnNumber:64},void 0):s==="error"?o.jsxDEV("div",{className:"p-4 text-red-400",children:["Error: ",u]},void 0,!0,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:20,columnNumber:36},void 0):o.jsxDEV("div",{className:"space-y-4",children:r.map(e=>o.jsxDEV(N,{className:"p-4 space-y-3",children:[o.jsxDEV("div",{className:"flex justify-between items-start",children:[o.jsxDEV("h4",{className:"font-bold text-white/90",children:e.title},void 0,!1,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:27,columnNumber:25},void 0),o.jsxDEV("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${e.status==="open"?"bg-green-500/20 text-green-300":"bg-slate-500/20 text-slate-300"}`,children:e.status},void 0,!1,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:28,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:26,columnNumber:21},void 0),o.jsxDEV("p",{className:"text-sm text-white/60",children:e.description},void 0,!1,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:32,columnNumber:21},void 0),o.jsxDEV("div",{className:"text-xs text-white/50 pt-2 border-t border-white/10",children:["Total Staked: ",o.jsxDEV("span",{className:"font-bold text-cyan-300",children:[e.totalStaked.toLocaleString()," REP"]},void 0,!0,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:34,columnNumber:39},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:33,columnNumber:21},void 0),e.status==="open"&&o.jsxDEV("div",{className:"flex gap-2 pt-2",children:[o.jsxDEV("input",{className:"flex-1 bg-white/5 border border-white/10 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",type:"number",placeholder:"Amount to Stake",value:t[e.id]??"",onChange:a=>m({...t,[e.id]:a.target.value}),disabled:s==="loading"},void 0,!1,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:38,columnNumber:29},void 0),o.jsxDEV("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200 disabled:opacity-50",onClick:()=>p(e.id),disabled:s==="loading",children:"Stake"},void 0,!1,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:46,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:37,columnNumber:25},void 0)]},e.id,!0,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:25,columnNumber:17},void 0))},void 0,!1,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:23,columnNumber:9},void 0);return o.jsxDEV(N,{className:"p-4",children:[o.jsxDEV("h2",{className:"text-xl font-bold text-white mb-4",children:"Governance Proposals"},void 0,!1,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:63,columnNumber:7},void 0),l()]},void 0,!0,{fileName:"/workspaces/azora-os/src/components/azora/GovernanceProposalsWidget.tsx",lineNumber:62,columnNumber:5},void 0)};export{g as default};
